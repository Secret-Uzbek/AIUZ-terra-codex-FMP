<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Terra FMP LLM ‚Äî Live</title>
<style>
body { background:#F5F5F5;color:#2C3E50;font-family:'Inter',sans-serif;margin:0;padding:0;}
#main { max-width:1200px;margin:auto;padding:20px;}
h1 { font-family:'Montserrat',sans-serif;font-size:30px;color:#7B66DC;}
h2 { font-family:'Montserrat',sans-serif;font-size:22px;color:#4A90E2;margin-top:20px;}
.card { background:#FFF;padding:16px;margin-bottom:20px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1);}
button{background:#2E8B57;color:#fff;border:none;border-radius:8px;padding:8px 16px;font-weight:600;cursor:pointer;}
button:hover{background:#27AE60;}
input,textarea{width:100%;padding:8px;margin-top:4px;margin-bottom:12px;border:1px solid #ccc;border-radius:8px;}
.result{background:#E8F4FD;padding:12px;border-radius:8px;font-family:'Fira Code',monospace;white-space:pre-wrap;}
.success{color:#27AE60;} .danger{color:#E74C3C;}
.semantic-tag{display:inline-block;padding:2px 6px;border-radius:8px;background:#4A90E2;color:#fff;font-size:12px;}
</style>
</head>
<body>
<div id="main">
<h1>üåç Terra FMP LLM ‚Äî Live</h1>
<div class="card">
<h2>üìÇ –ò–º–ø–æ—Ä—Ç —Ñ–∞–π–ª–∞</h2>
<input type="file" id="fileImport" multiple>
<button onclick="importFiles()">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
<div id="importLog" class="result"></div>
</div>
<div class="card">
<h2>üîç –ü–æ–∏—Å–∫ –≤ —Ç–µ–∑–∞—É—Ä—É—Å–µ</h2>
<input id="searchTerm" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–µ–º–º—É, –ø–µ—Ä–µ–≤–æ–¥ –∏–ª–∏ –¥–æ–º–µ–Ω">
<button onclick="searchLemma()">–ò—Å–∫–∞—Ç—å</button>
<div id="searchResult" class="result"></div>
</div>
<div class="card">
<h2>üå± –î–æ–±–∞–≤–∏—Ç—å –ª–µ–º–º—É</h2>
<label>–õ–µ–º–º–∞</label><input id="lemma">
<label>POS</label><input id="pos">
<label>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</label><textarea id="definition"></textarea>
<label>–ü–µ—Ä–µ–≤–æ–¥—ã</label>
<input id="t_uz" placeholder="—É–∑–±–µ–∫—Å–∫–∏–π">
<input id="t_de" placeholder="–Ω–µ–º–µ—Ü–∫–∏–π">
<input id="t_ru" placeholder="—Ä—É—Å—Å–∫–∏–π">
<input id="t_en" placeholder="–∞–Ω–≥–ª–∏–π—Å–∫–∏–π">
<label>–ú–µ–¥–∏–∞ (URL)</label>
<input id="image" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
<input id="audio" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∞—É–¥–∏–æ">
<button onclick="addLemma()">–î–æ–±–∞–≤–∏—Ç—å</button>
<span id="addMsg" class="success"></span>
</div>
<div class="card">
<h2>üß† FMP Reasoning</h2>
<textarea id="fmp_query" rows="2" placeholder="–û–ø–∏—à–∏—Ç–µ —Ç–µ–∫—Å—Ç, —Ç–µ—Ä–º–∏–Ω –∏–ª–∏ –∑–∞–¥–∞—á—É"></textarea>
<button onclick="runFMP()">–ê–Ω–∞–ª–∏–∑</button>
<div id="fmpResult" class="result"></div>
</div>
</div>
<script>
let kb = JSON.parse(localStorage.getItem('terra_kb')||'[]');
function detox(text){ 
  const banned=['—Ñ–∏–Ω–∞–ª','—É–ª—å—Ç–∏–º–µ–π—Ç','–ª—É—á—à–∏–π','—Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π','—É–Ω–∏–∫–∞–ª—å–Ω—ã–π'];
  let clean=text;
  banned.forEach(b=>{ clean = clean.replace(new RegExp(b,'gi'),'');});
  return clean.trim();
}
function importFiles(){
  const files=document.getElementById('fileImport').files;
  if(!files.length)return;
  let log="";
  Array.from(files).forEach(f=>{
    log += `–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω: ${f.name}\n`;
  });
  document.getElementById('importLog').textContent=log;
  saveKB();
}
function searchLemma(){
  const term=detox(document.getElementById('searchTerm').value.toLowerCase());
  let found=kb.filter(x=>
    x.lemma?.toLowerCase().includes(term) ||
    Object.values(x.translations||{}).some(v=>(v||'').toLowerCase().includes(term)) ||
    (x.definition||'').toLowerCase().includes(term)
  );
  document.getElementById('searchResult').textContent=found.length
    ? found.map(x=>`–õ–µ–º–º–∞: ${x.lemma}\nPOS: ${x.pos}\n–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: ${x.definition}\n–ü–µ—Ä–µ–≤–æ–¥—ã: UZ=${x.translations?.uz}, DE=${x.translations?.de}, RU=${x.translations?.ru}, EN=${x.translations?.en}\nPostlingua: ${x.postlingua_trace}`).join("\n\n")
    : "‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–æ.";
}
function addLemma(){
  kb.push({
    lemma: detox(document.getElementById('lemma').value),
    pos: detox(document.getElementById('pos').value),
    definition: detox(document.getElementById('definition').value),
    translations:{
      uz:detox(document.getElementById('t_uz').value),
      de:detox(document.getElementById('t_de').value),
      ru:detox(document.getElementById('t_ru').value),
      en:detox(document.getElementById('t_en').value)
    },
    media:{
      image:document.getElementById('image').value,
      audio:document.getElementById('audio').value
    },
    postlingua_trace:genPostlingua()
  });
  document.getElementById('addMsg').textContent="–õ–µ–º–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞!";
  saveKB();
}
function genPostlingua(){
  const symbols=["‚äò","·öò","‚à¥","‚áå","ìÇÄ","„É±"," òÃàÃ§","‚òâÃµ","·öõ","‚üÅ","“Ç","‚ãá"];
  return Array(5).fill(0).map(()=>symbols[Math.floor(Math.random()*symbols.length)]).join(" ");
}
function runFMP(){
  let q=detox(document.getElementById('fmp_query').value);
  if(!q)return;
  let s1=`üü£ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∞–Ω–∞–ª–∏—Ç–∏–∫: –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç ¬´${q}¬ª –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∑–∞—É—Ä—É—Å–∞ –∏ –∫–æ—Ä–ø—É—Å–∞.`;
  let s2=`üîµ –í–Ω–µ—à–Ω–∏–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å: —Å–æ–æ—Ç–Ω–æ—Å–∏—Ç ¬´${q}¬ª —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∫–æ—Ä–ø—É—Å–∞–º–∏/—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏.`;
  let s3=`üü¢ –ú–µ—Ç–∞–∞—Ä—Ö–∏–≤–∞—Ä–∏—É—Å: —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç ¬´${q}¬ª –≤ —Ö—Ä–æ–Ω–∏–∫–µ, —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å Postlingua Trace, –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º Terra.`;
  document.getElementById('fmpResult').textContent=`${s1}\n\n${s2}\n\n${s3}`;
}
function saveKB(){ localStorage.setItem('terra_kb',JSON.stringify(kb)); }
</script>
</body>
</html>

<!-- TERRA: canonical identifiers -->
<hr>
<p><strong>Contact:</strong> <a href="mailto:a.abdukarimov@fractal-metascience.org">a.abdukarimov@fractal-metascience.org</a><br>
<strong>ORCID:</strong> 0009-0000-6394-4912</p>
