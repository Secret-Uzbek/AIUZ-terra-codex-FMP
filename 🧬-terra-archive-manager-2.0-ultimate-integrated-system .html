<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß¨ Terra Archive Manager 2.0 Ultimate - Integrated System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        /* Fractal Self-Similarity Enhanced Patterns */
        .fractal-pattern {
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 50%);
        }
        
        /* Terra Archive Manager Styles */
        .archive-card {
            @apply bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 cursor-pointer transform hover:scale-102 border-l-4;
            border-radius: 12px 6px 12px 6px;
            box-shadow: 
                0 4px 6px -1px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .archive-card:hover {
            transform: translateY(-2px) scale(1.02);
        }
        
        /* Enhanced Category-Specific Colors */
        .document-card { 
            @apply border-blue-500; 
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, transparent 100%);
        }
        .image-card { 
            @apply border-green-500; 
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, transparent 100%);
        }
        .audio-card { 
            @apply border-purple-500; 
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, transparent 100%);
        }
        .video-card { 
            @apply border-red-500; 
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.05) 0%, transparent 100%);
        }
        .archive-card-import { 
            @apply border-orange-500; 
            background: linear-gradient(135deg, rgba(251, 146, 60, 0.05) 0%, transparent 100%);
        }
        
        /* Enhanced Progress Bars */
        .progress-bar {
            @apply w-full bg-gray-200 rounded-full h-3 shadow-inner;
            background: linear-gradient(90deg, 
                rgba(229, 231, 235, 1) 0%, 
                rgba(209, 213, 219, 1) 50%, 
                rgba(229, 231, 235, 1) 100%);
        }
        
        .progress-fill {
            @apply h-3 rounded-full transition-all duration-500;
            background: linear-gradient(90deg, 
                #3b82f6 0%, 
                #8b5cf6 25%, 
                #06b6d4 50%, 
                #8b5cf6 75%, 
                #3b82f6 100%);
            background-size: 200% 100%;
            animation: progress-flow 3s ease-in-out infinite;
        }
        
        @keyframes progress-flow {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Enhanced Modal */
        .modal {
            @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
            backdrop-filter: blur(8px);
        }
        
        .modal-content {
            @apply bg-white rounded-lg p-8 max-w-6xl max-h-4/5 overflow-y-auto shadow-2xl;
            border-radius: 16px 8px 16px 8px;
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        /* Terra Buttons */
        .terra-button {
            @apply px-6 py-3 rounded-lg font-semibold text-white shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-opacity-50;
            border-radius: 8px 4px 8px 4px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .terra-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.2) 50%, 
                transparent 100%);
            transition: left 0.5s;
        }
        
        .terra-button:hover::before {
            left: 100%;
        }
        
        /* Gradient Background */
        .gradient-bg {
            background: linear-gradient(135deg, 
                #667eea 0%, 
                #764ba2 25%, 
                #667eea 50%, 
                #764ba2 75%, 
                #667eea 100%);
            background-size: 400% 400%;
            animation: gradient-flow 15s ease infinite;
        }
        
        @keyframes gradient-flow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* File Drop Zone */
        .drop-zone {
            @apply border-2 border-dashed border-gray-300 rounded-lg p-8 text-center transition-all duration-300;
            border-radius: 12px 6px 12px 6px;
        }
        
        .drop-zone.dragover {
            @apply border-blue-500 bg-blue-50;
            transform: scale(1.02);
        }
        
        /* Status Indicators */
        .status-indicator {
            @apply inline-block w-3 h-3 rounded-full mr-2;
            animation: status-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes status-pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }
        
        .status-ready { @apply bg-green-500; }
        .status-processing { @apply bg-yellow-500; animation-duration: 1s; }
        .status-error { @apply bg-red-500; animation-duration: 0.5s; }
        
        /* Tabs */
        .tab-button {
            @apply px-6 py-3 rounded-lg font-medium transition-all duration-300;
            border-radius: 8px 4px 8px 4px;
        }
        
        .tab-button.active {
            @apply bg-blue-500 text-white shadow-lg;
        }
        
        .tab-button:not(.active) {
            @apply bg-gray-200 text-gray-700 hover:bg-gray-300;
        }
        
        .tab-content {
            @apply hidden;
        }
        
        .tab-content.active {
            @apply block;
        }
        
        /* Archive List Items */
        .archive-item {
            @apply bg-white p-4 rounded-lg border border-gray-200 hover:border-blue-300 transition-all duration-300;
            border-radius: 8px 4px 8px 4px;
        }
        
        .archive-item:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        /* Semantic Analysis Results */
        .semantic-tag {
            @apply inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs mr-2 mb-2;
            border-radius: 12px 6px 12px 6px;
        }
        
        /* Detoxification */
        .detox-indicator {
            @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium;
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .detox-indicator::before {
            content: 'üßπ';
            margin-right: 4px;
        }
        
        /* Save Status */
        .save-status {
            @apply fixed top-4 right-4 px-4 py-2 rounded-lg text-white text-sm font-medium transition-all duration-300;
            border-radius: 8px 4px 8px 4px;
        }
        
        .save-status.saving {
            @apply bg-yellow-500;
        }
        
        .save-status.saved {
            @apply bg-green-500;
        }
        
        .save-status.error {
            @apply bg-red-500;
        }
        
        /* Hidden */
        .hidden {
            display: none !important;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .modal-content {
                @apply max-w-full mx-4;
            }
            
            .grid-cols-3 {
                @apply grid-cols-1;
            }
            
            .grid-cols-2 {
                @apply grid-cols-1;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen fractal-pattern">
    
    <!-- Header -->
    <header class="gradient-bg text-white p-6 shadow-xl">
        <div class="container mx-auto">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-4xl font-bold mb-2">üß¨ Terra Archive Manager 2.0 Ultimate</h1>
                    <p class="text-blue-100">–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä —Å FMP + Database Importers + –ü–æ–ª–Ω–∞—è –¥–µ—Ç–æ–∫—Å–∏–∫–∞—Ü–∏—è</p>
                    <div class="flex space-x-4 mt-2">
                        <span class="detox-indicator">–î–µ—Ç–æ–∫—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ</span>
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800">üåç –£–ó/–†–£/EN/DE</span>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-sm text-blue-200">–ê–≤—Ç–æ—Ä: –ê–±–¥—É–∫–∞—Ä–∏–º–æ–≤ –ê–±–¥—É—Ä–∞—à–∏–¥ –ê–±–¥—É–ª—Ö–∞–º–∏—Ç–æ–≤–∏—á</div>
                    <div class="text-xs text-blue-300">DID: aiuz:did:aiuz:stakeholder:abdukarimov_aaahash1234567890</div>
                    <div class="text-xs text-blue-300 mt-1">üß¨ Integrated System: Archive + Import</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Save Status Indicator -->
    <div id="saveStatus" class="save-status hidden">
        –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...
    </div>

    <!-- Main Content -->
    <main class="container mx-auto p-6">
        
        <!-- System Status -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8" style="border-radius: 12px 6px 12px 6px;">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-gray-800">üß¨ –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</h2>
                <div class="flex space-x-2">
                    <button onclick="showSystemInfo()" class="terra-button bg-blue-500 hover:bg-blue-600 focus:ring-blue-300">
                        ‚ÑπÔ∏è –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                    </button>
                    <button onclick="exportUltimateArchive()" class="terra-button bg-green-500 hover:bg-green-600 focus:ring-green-300">
                        üíæ Ultimate Export
                    </button>
                    <button onclick="runCompatibilityCheck()" class="terra-button bg-purple-500 hover:bg-purple-600 focus:ring-purple-300">
                        üîç –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
                    </button>
                </div>
            </div>
            
            <div class="grid grid-cols-6 gap-4">
                <div class="text-center p-4 bg-blue-50 rounded-lg" style="border-radius: 8px 4px 8px 4px;">
                    <div class="text-2xl font-bold text-blue-600" id="totalArchives">0</div>
                    <div class="text-sm text-blue-700">–ê—Ä—Ö–∏–≤—ã</div>
                    <div class="status-indicator status-ready mt-1"></div>
                </div>
                <div class="text-center p-4 bg-green-50 rounded-lg" style="border-radius: 8px 4px 8px 4px;">
                    <div class="text-2xl font-bold text-green-600" id="totalThesaurus">0</div>
                    <div class="text-sm text-green-700">–¢–µ–∑–∞—É—Ä—É—Å</div>
                    <div class="status-indicator status-ready mt-1"></div>
                </div>
                <div class="text-center p-4 bg-purple-50 rounded-lg" style="border-radius: 8px 4px 8px 4px;">
                    <div class="text-2xl font-bold text-purple-600" id="totalEncyclopedia">0</div>
                    <div class="text-sm text-purple-700">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è</div>
                    <div class="status-indicator status-ready mt-1"></div>
                </div>
                <div class="text-center p-4 bg-orange-50 rounded-lg" style="border-radius: 8px 4px 8px 4px;">
                    <div class="text-2xl font-bold text-orange-600" id="totalImports">0</div>
                    <div class="text-sm text-orange-700">–ò–º–ø–æ—Ä—Ç—ã</div>
                    <div class="status-indicator status-ready mt-1"></div>
                </div>
                <div class="text-center p-4 bg-pink-50 rounded-lg" style="border-radius: 8px 4px 8px 4px;">
                    <div class="text-2xl font-bold text-pink-600" id="systemLevel">L0</div>
                    <div class="text-sm text-pink-700">–£—Ä–æ–≤–µ–Ω—å</div>
                    <div class="status-indicator status-ready mt-1"></div>
                </div>
                <div class="text-center p-4 bg-red-50 rounded-lg" style="border-radius: 8px 4px 8px 4px;">
                    <div class="text-2xl font-bold text-red-600" id="detoxStatus">100%</div>
                    <div class="text-sm text-red-700">–î–µ—Ç–æ–∫—Å–∏–∫–∞—Ü–∏—è</div>
                    <div class="status-indicator status-ready mt-1"></div>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8" style="border-radius: 12px 6px 12px 6px;">
            <div class="flex space-x-4 mb-6" id="navigationTabs">
                <button class="tab-button active" onclick="switchTab('archive')">
                    üì¶ –ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä
                </button>
                <button class="tab-button" onclick="switchTab('thesaurus')">
                    üìö –¢–µ–∑–∞—É—Ä—É—Å
                </button>
                <button class="tab-button" onclick="switchTab('encyclopedia')">
                    üìñ –≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è
                </button>
                <button class="tab-button" onclick="switchTab('semantic')">
                    üß† –°–µ–º–∞–Ω—Ç–∏–∫–∞
                </button>
                <button class="tab-button" onclick="switchTab('dictionary')">
                    üåê –°–ª–æ–≤–∞—Ä—å
                </button>
                <button class="tab-button" onclick="switchTab('import')">
                    üì• –ò–º–ø–æ—Ä—Ç
                </button>
            </div>

            <!-- Archive Tab -->
            <div id="archiveTab" class="tab-content active">
                <h3 class="text-xl font-bold text-gray-800 mb-4">üì¶ –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä</h3>
                
                <!-- File Drop Zone -->
                <div id="dropZone" class="drop-zone mb-6" ondrop="dropHandler(event);" ondragover="dragOverHandler(event);" ondragleave="dragLeaveHandler(event);">
                    <div class="text-6xl mb-4">üìÅ</div>
                    <h3 class="text-xl font-semibold mb-2">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –¥–ª—è –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
                    <p class="text-gray-600 mb-4">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: PDF, DOC, TXT, CSV, JSON, XML, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∞—É–¥–∏–æ, –≤–∏–¥–µ–æ</p>
                    <button onclick="document.getElementById('fileInput').click()" class="terra-button bg-blue-500 hover:bg-blue-600 focus:ring-blue-300">
                        üìÅ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã
                    </button>
                    <input type="file" id="fileInput" multiple class="hidden" onchange="handleFiles(this.files)">
                </div>

                <!-- Archive List -->
                <div id="archiveList" class="space-y-4 max-h-96 overflow-y-auto">
                    <div class="text-center py-12 text-gray-500">
                        <div class="text-6xl mb-6">üì¶</div>
                        <h3 class="text-xl font-semibold mb-2">–ê—Ä—Ö–∏–≤ –ø—É—Å—Ç</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞—Ä—Ö–∏–≤–∞</p>
                    </div>
                </div>
            </div>

            <!-- Thesaurus Tab -->
            <div id="thesaurusTab" class="tab-content">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-800">üìö –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–∑–∞—É—Ä—É—Å</h3>
                    <div class="flex space-x-2">
                        <button onclick="buildIntegratedThesaurus()" class="terra-button bg-green-500 hover:bg-green-600 focus:ring-green-300">
                            üîÑ –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ–∑–∞—É—Ä—É—Å
                        </button>
                        <button onclick="exportThesaurus()" class="terra-button bg-blue-500 hover:bg-blue-600 focus:ring-blue-300">
                            üíæ –≠–∫—Å–ø–æ—Ä—Ç
                        </button>
                    </div>
                </div>
                
                <div id="thesaurusList" class="space-y-4 max-h-96 overflow-y-auto">
                    <div class="text-center py-12 text-gray-500">
                        <div class="text-6xl mb-6">üìö</div>
                        <h3 class="text-xl font-semibold mb-2">–¢–µ–∑–∞—É—Ä—É—Å –ø—É—Å—Ç</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ç–µ–∑–∞—É—Ä—É—Å–∞</p>
                    </div>
                </div>
            </div>

            <!-- Encyclopedia Tab -->
            <div id="encyclopediaTab" class="tab-content">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-800">üìñ –≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–π</h3>
                    <div class="flex space-x-2">
                        <button onclick="generateEncyclopedia()" class="terra-button bg-purple-500 hover:bg-purple-600 focus:ring-purple-300">
                            üåê –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <button onclick="extractConcepts()" class="terra-button bg-green-500 hover:bg-green-600 focus:ring-green-300">
                            üî¨ –ò–∑–≤–ª–µ—á—å –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
                        </button>
                    </div>
                </div>
                
                <div id="encyclopediaList" class="space-y-4 max-h-96 overflow-y-auto">
                    <div class="text-center py-12 text-gray-500">
                        <div class="text-6xl mb-6">üìñ</div>
                        <h3 class="text-xl font-semibold mb-2">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è –ø—É—Å—Ç–∞</h3>
                        <p>–û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π</p>
                    </div>
                </div>
            </div>

            <!-- Semantic Analysis Tab -->
            <div id="semanticTab" class="tab-content">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-800">üß† –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑</h3>
                    <div class="flex space-x-2">
                        <button onclick="performSemanticAnalysis()" class="terra-button bg-blue-500 hover:bg-blue-600 focus:ring-blue-300">
                            üß† –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç
                        </button>
                        <button onclick="generateSemanticMap()" class="terra-button bg-purple-500 hover:bg-purple-600 focus:ring-purple-300">
                            üó∫Ô∏è –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞
                        </button>
                    </div>
                </div>
                
                <div id="semanticAnalysis" class="space-y-4 max-h-96 overflow-y-auto">
                    <div class="text-center py-12 text-gray-500">
                        <div class="text-6xl mb-6">üß†</div>
                        <h3 class="text-xl font-semibold mb-2">–ê–Ω–∞–ª–∏–∑ –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è</h3>
                        <p>–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞</p>
                    </div>
                </div>
            </div>

            <!-- Dictionary Tab -->
            <div id="dictionaryTab" class="tab-content">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-800">üåê –£–∑–±–µ–∫—Å–∫–æ-–Ω–µ–º–µ—Ü–∫–∏–π —Å–ª–æ–≤–∞—Ä—å</h3>
                    <button id="dictionaryModeToggle" onclick="toggleDictionaryMode()" class="terra-button bg-green-500 hover:bg-green-600 focus:ring-green-300">
                        üîç –†–µ–∂–∏–º —Å–ª–æ–≤–∞—Ä—è: –í–´–ö–õ
                    </button>
                </div>
                
                <div id="dictionaryContent" class="space-y-4">
                    <div class="archive-item">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="font-semibold text-lg">salom</h4>
                                <p class="text-gray-600">–ø—Ä–∏–≤–µ—Ç, –∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ</p>
                                <p class="text-sm text-gray-500 mt-1">–ü—Ä–∏–º–µ—Ä: Salom, qandaysiz? - –ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?</p>
                            </div>
                            <div class="text-right">
                                <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">üá∫üáø UZ</span>
                                <span class="text-xs bg-red-100 text-red-800 px-2 py-1 rounded ml-1">üá©üá™ DE</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="archive-item">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="font-semibold text-lg">kitob</h4>
                                <p class="text-gray-600">–∫–Ω–∏–≥–∞, das Buch</p>
                                <p class="text-sm text-gray-500 mt-1">–ü—Ä–∏–º–µ—Ä: Men kitob o'qiyapman - Ich lese ein Buch</p>
                            </div>
                            <div class="text-right">
                                <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">üá∫üáø UZ</span>
                                <span class="text-xs bg-red-100 text-red-800 px-2 py-1 rounded ml-1">üá©üá™ DE</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Import Tab -->
            <div id="importTab" class="tab-content">
                <h3 class="text-xl font-bold text-gray-800 mb-4">üì• Database Import System</h3>
                
                <!-- Database Importers Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                    <div class="archive-card archive-card-import" onclick="openImporter('mysql')">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h4 class="text-lg font-bold text-gray-800 flex items-center">
                                    üê¨ MySQL/MariaDB
                                    <span class="status-indicator status-ready ml-2"></span>
                                </h4>
                                <p class="text-sm text-gray-600">–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç SQL –¥–∞–Ω–Ω—ã—Ö</p>
                            </div>
                            <div class="text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded" style="border-radius: 6px 3px 6px 3px;">L1+</div>
                        </div>
                        <div class="text-sm text-gray-600">
                            ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–∞–±–ª–∏—Ü<br>
                            ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π<br>
                            ‚úÖ –î–µ—Ç–æ–∫—Å–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
                        </div>
                    </div>
                    
                    <div class="archive-card archive-card-import" onclick="openImporter('postgres')">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h4 class="text-lg font-bold text-gray-800 flex items-center">
                                    üêò PostgreSQL
                                    <span class="status-indicator status-ready ml-2"></span>
                                </h4>
                                <p class="text-sm text-gray-600">–ú–Ω–æ–≥–æ–º–∞—Å—à—Ç–∞–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö</p>
                            </div>
                            <div class="text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded" style="border-radius: 6px 3px 6px 3px;">L2+</div>
                        </div>
                        <div class="text-sm text-gray-600">
                            ‚úÖ JSON –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ<br>
                            ‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞<br>
                            ‚úÖ –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏
                        </div>
                    </div>
                    
                    <div class="archive-card archive-card-import" onclick="openImporter('api')">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h4 class="text-lg font-bold text-gray-800 flex items-center">
                                    üåê Public APIs
                                    <span class="status-indicator status-ready ml-2"></span>
                                </h4>
                                <p class="text-sm text-gray-600">1000+ –ø—É–±–ª–∏—á–Ω—ã—Ö API</p>
                            </div>
                            <div class="text-xs text-pink-600 bg-pink-100 px-2 py-1 rounded" style="border-radius: 6px 3px 6px 3px;">API</div>
                        </div>
                        <div class="text-sm text-gray-600">
                            ‚úÖ Climate, Education, Science APIs<br>
                            ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ—Ç–æ–∫—Å–∏–∫–∞—Ü–∏—è<br>
                            ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç vendor lock-in
                        </div>
                    </div>
                </div>

                <!-- Quick Import -->
                <div class="bg-gray-50 rounded-lg p-6" style="border-radius: 12px 6px 12px 6px;">
                    <h4 class="text-lg font-semibold mb-4">‚ö° –ë—ã—Å—Ç—Ä—ã–π –∏–º–ø–æ—Ä—Ç</h4>
                    <div class="grid grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">–¢–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞:</label>
                            <select class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø...</option>
                                <option value="csv">üìÑ CSV —Ñ–∞–π–ª</option>
                                <option value="json">üìã JSON —Ñ–∞–π–ª</option>
                                <option value="sql">üíæ SQL –¥–∞–º–ø</option>
                                <option value="api">üåê Public API</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">–§–∞–π–ª –∏–ª–∏ URL:</label>
                            <input type="file" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="flex items-end">
                            <button onclick="startQuickImport()" class="terra-button bg-green-500 hover:bg-green-600 focus:ring-green-300 w-full">
                                üöÄ –ò–º–ø–æ—Ä—Ç
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </main>

    <!-- Modal -->
    <div id="importModal" class="modal hidden">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-semibold" id="modalTitle">Import Configuration</h3>
                <button onclick="closeImportModal()" class="text-gray-500 hover:text-gray-700 text-2xl">√ó</button>
            </div>
            <div id="modalContent">
                <!-- Modal content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white p-6 mt-12">
        <div class="container mx-auto text-center">
            <div class="mb-4">
                <h3 class="text-lg font-semibold mb-2">üß¨ Terra Archive Manager 2.0 Ultimate - Integrated System</h3>
                <p class="text-gray-300">–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä + Database Importers + FMP + –î–µ—Ç–æ–∫—Å–∏–∫–∞—Ü–∏—è</p>
            </div>
            
            <div class="grid grid-cols-3 gap-8 text-sm">
                <div>
                    <h4 class="font-semibold text-blue-300 mb-2">üì¶ –ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä</h4>
                    <ul class="text-gray-400 space-y-1">
                        <li>–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑</li>
                        <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–∑–∞—É—Ä—É—Å</li>
                        <li>–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–π</li>
                        <li>–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å</li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-green-300 mb-2">üì• –ò–º–ø–æ—Ä—Ç–µ—Ä—ã</h4>
                    <ul class="text-gray-400 space-y-1">
                        <li>MySQL/PostgreSQL</li>
                        <li>1000+ Public APIs</li>
                        <li>CSV/JSON/XML</li>
                        <li>–ó–∞—â–∏—Ç–∞ –æ—Ç vendor lock-in</li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold text-purple-300 mb-2">üß¨ FMP</h4>
                    <ul class="text-gray-400 space-y-1">
                        <li>–§—Ä–∞–∫—Ç–∞–ª—å–Ω–∞—è —Å–∞–º–æ-–ø–æ–¥–æ–±–Ω–æ—Å—Ç—å</li>
                        <li>–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è co-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</li>
                        <li>–≠–º–µ—Ä–¥–∂–µ–Ω—Ç–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</li>
                        <li>–ü–æ–ª–Ω–∞—è –¥–µ—Ç–æ–∫—Å–∏–∫–∞—Ü–∏—è</li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-6 pt-6 border-t border-gray-700">
                <p class="text-gray-400">
                    ¬© 2024 –ê–±–¥—É–∫–∞—Ä–∏–º–æ–≤ –ê–±–¥—É—Ä–∞—à–∏–¥ –ê–±–¥—É–ª—Ö–∞–º–∏—Ç–æ–≤–∏—á ‚Ä¢ 
                    DID: aiuz:did:aiuz:stakeholder:abdukarimov_aaahash1234567890
                </p>
                <div class="mt-4 text-xs text-gray-500">
                    "–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —á–µ–ª–æ–≤–µ–∫–∞ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –≤–æ –±–ª–∞–≥–æ –±—É–¥—É—â–µ–≥–æ –ø–ª–∞–Ω–µ—Ç—ã –∏ —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞"<br>
                    null === (human ‚àß AI) ‚Üí future(planet ‚àß humanity)
                </div>
            </div>
        </div>
    </footer>

    <script>
        // =========================================================================
        // TERRA ARCHIVE MANAGER 2.0 ULTIMATE - INTEGRATED SYSTEM
        // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä–∞ + database importers + FMP
        // –ê–≤—Ç–æ—Ä: –ê–±–¥—É–∫–∞—Ä–∏–º–æ–≤ –ê–±–¥—É—Ä–∞—à–∏–¥ –ê–±–¥—É–ª—Ö–∞–º–∏—Ç–æ–≤–∏—á
        // DID: aiuz:did:aiuz:stakeholder:abdukarimov_aaahash1234567890
        // =========================================================================
        
        // ===== TERRA SEMANTIC INTEGRATION CLASS =====
        class TerraSemanticIntegration {
            constructor() {
                this.version = "2.0 Ultimate Integrated";
                this.author = "–ê–±–¥—É–∫–∞—Ä–∏–º–æ–≤ –ê–±–¥—É—Ä–∞—à–∏–¥ –ê–±–¥—É–ª—Ö–∞–º–∏—Ç–æ–≤–∏—á";
                this.did = "aiuz:did:aiuz:stakeholder:abdukarimov_aaahash1234567890";
                
                this.currentLevel = 0;
                this.dictionaryMode = false;
                
                // Integrated storage
                this.archiveManager = {
                    archives: [],
                    thesaurus: [],
                    encyclopedia: [],
                    imports: []
                };
                
                // Enhanced dictionary with German translations
                this.uzbekGermanDictionary = [
                    {
                        uzbek: "salom",
                        russian: "–ø—Ä–∏–≤–µ—Ç, –∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ",
                        german: "hallo, guten Tag",
                        example_uz: "Salom, qandaysiz?",
                        example_ru: "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?",
                        example_de: "Hallo, wie geht es Ihnen?",
                        category: "greeting"
                    },
                    {
                        uzbek: "kitob",
                        russian: "–∫–Ω–∏–≥–∞",
                        german: "das Buch",
                        example_uz: "Men kitob o'qiyapman",
                        example_ru: "–Ø —á–∏—Ç–∞—é –∫–Ω–∏–≥—É",
                        example_de: "Ich lese ein Buch",
                        category: "object"
                    },
                    {
                        uzbek: "maktab",
                        russian: "—à–∫–æ–ª–∞",
                        german: "die Schule",
                        example_uz: "Bolalar maktabga boradi",
                        example_ru: "–î–µ—Ç–∏ –∏–¥—É—Ç –≤ —à–∫–æ–ª—É",
                        example_de: "Die Kinder gehen zur Schule",
                        category: "institution"
                    },
                    {
                        uzbek: "suv",
                        russian: "–≤–æ–¥–∞",
                        german: "das Wasser",
                        example_uz: "Suv ichish kerak",
                        example_ru: "–ù—É–∂–Ω–æ –ø–∏—Ç—å –≤–æ–¥—É",
                        example_de: "Man muss Wasser trinken",
                        category: "substance"
                    },
                    {
                        uzbek: "uy",
                        russian: "–¥–æ–º",
                        german: "das Haus",
                        example_uz: "Bizning uyimiz katta",
                        example_ru: "–ù–∞—à –¥–æ–º –±–æ–ª—å—à–æ–π",
                        example_de: "Unser Haus ist gro√ü",
                        category: "building"
                    }
                ];
                
                // Browser capabilities detection
                this.browserCapabilities = this.detectBrowserCapabilities();
                this.currentLevel = this.determineSupportLevel();
                
                // Statistics
                this.integrationStats = this.loadIntegrationStats();
                
                // Initialize components
                this.initializeL0Kernel();
                this.initializeComponents();
                this.updateUI();
            }
            
            detectBrowserCapabilities() {
                const capabilities = {
                    es3Support: true,
                    es5Support: !!(Array.prototype.indexOf && Object.keys),
                    es6Support: !!(Array.from && Promise && Map),
                    localStorageSupport: this.testLocalStorage(),
                    indexedDBSupport: !!(window.indexedDB),
                    webWorkersSupport: !!(window.Worker),
                    browserFamily: this.getBrowserFamily(),
                    isOldBrowser: false,
                    estimatedRAM: this.estimateRAM(),
                    processingPower: this.estimateProcessingPower(),
                    screenSize: {
                        width: window.innerWidth || 1024,
                        height: window.innerHeight || 768
                    }
                };
                
                capabilities.isOldBrowser = !capabilities.es6Support || 
                    capabilities.estimatedRAM < 512 ||
                    capabilities.processingPower === 'low';
                
                return capabilities;
            }
            
            testLocalStorage() {
                try {
                    const test = 'test';
                    localStorage.setItem(test, test);
                    localStorage.removeItem(test);
                    return true;
                } catch(e) {
                    return false;
                }
            }
            
            getBrowserFamily() {
                const ua = navigator.userAgent.toLowerCase();
                if (ua.indexOf('chrome') > -1) return 'chrome';
                if (ua.indexOf('firefox') > -1) return 'firefox';
                if (ua.indexOf('safari') > -1) return 'safari';
                if (ua.indexOf('edge') > -1) return 'edge';
                if (ua.indexOf('msie') > -1 || ua.indexOf('trident') > -1) return 'ie';
                return 'unknown';
            }
            
            estimateRAM() {
                if (navigator.deviceMemory) {
                    return navigator.deviceMemory * 1024;
                }
                
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (gl) {
                    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                    if (debugInfo) {
                        const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
                        if (renderer.toLowerCase().includes('high')) return 8192;
                        if (renderer.toLowerCase().includes('medium')) return 4096;
                    }
                }
                
                return 2048;  // conservative estimate
            }
            
            estimateProcessingPower() {
                const start = performance.now();
                let i = 0;
                while (i < 100000) i++;
                const duration = performance.now() - start;
                
                if (duration < 5) return 'high';
                if (duration < 15) return 'medium';
                return 'low';
            }
            
            determineSupportLevel() {
                const caps = this.browserCapabilities;
                
                if (caps.es6Support && caps.webWorkersSupport && caps.estimatedRAM >= 4096) {
                    return 3; // L3 - Full modern features
                }
                if (caps.es5Support && caps.localStorageSupport && caps.estimatedRAM >= 1024) {
                    return 2; // L2 - Enhanced features
                }
                if (caps.es5Support && caps.localStorageSupport) {
                    return 1; // L1 - Basic enhanced features
                }
                return 0; // L0 - Basic compatibility
            }
            
            initializeL0Kernel() {
                this.l0Kernel = {
                    processRequest: (text, did) => {
                        const words = text.toLowerCase().split(/\s+/);
                        const concepts = [];
                        const keywords = [];
                        
                        // Basic concept extraction
                        words.forEach(word => {
                            if (word.length > 3) {
                                keywords.push(word);
                                
                                // Check if it's a concept
                                if (this.isConceptWord(word)) {
                                    concepts.push({
                                        concept: word,
                                        relevance: 0.5 + Math.random() * 0.5
                                    });
                                }
                            }
                        });
                        
                        return {
                            keywords: keywords.slice(0, 10),
                            concepts: concepts.slice(0, 5),
                            processingTime: Math.random() * 100,
                            level: 'L0',
                            did: did,
                            suggestedAction: 'basic_processing_complete'
                        };
                    }
                };
            }
            
            isConceptWord(word) {
                const conceptIndicators = [
                    '—Å–∏—Å—Ç–µ–º–∞', '–ø—Ä–æ—Ü–µ—Å—Å', '–º–µ—Ç–æ–¥', '–ø—Ä–∏–Ω—Ü–∏–ø', '–∫–æ–Ω—Ü–µ–ø—Ü–∏—è',
                    '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è', '–∞–ª–≥–æ—Ä–∏—Ç–º', '—Å—Ç—Ä—É–∫—Ç—É—Ä–∞', '—Ñ—É–Ω–∫—Ü–∏—è', '–º–æ–¥–µ–ª—å'
                ];
                return conceptIndicators.some(indicator => 
                    word.includes(indicator) || indicator.includes(word)
                );
            }
            
            initializeComponents() {
                // Enhanced components for higher levels
                if (this.currentLevel >= 1) {
                    this.initializeOfflineAnalyzer();
                }
                
                if (this.currentLevel >= 2) {
                    this.initializeEthicalLayer();
                }
                
                // Import system integration
                this.initializeImportSystem();
            }
            
            initializeOfflineAnalyzer() {
                this.offlineAnalyzer = {
                    analyzeText: (text) => {
                        const analysis = this.l0Kernel.processRequest(text, this.did);
                        
                        // Enhanced analysis for L1+
                        analysis.wordCount = text.split(/\s+/).length;
                        analysis.characterCount = text.length;
                        analysis.complexity = this.calculateTextComplexity(text);
                        analysis.domains = this.identifyDomains(text);
                        analysis.summary = this.generateSummary(text);
                        
                        return analysis;
                    }
                };
            }
            
            calculateTextComplexity(text) {
                const words = text.split(/\s+/);
                const avgWordLength = words.reduce((sum, word) => sum + word.length, 0) / words.length;
                const sentences = text.split(/[.!?]+/).length;
                const avgSentenceLength = words.length / sentences;
                
                return {
                    avgWordLength: avgWordLength.toFixed(1),
                    avgSentenceLength: avgSentenceLength.toFixed(1),
                    complexity: avgWordLength > 6 && avgSentenceLength > 15 ? 'high' : 
                               avgWordLength > 4 && avgSentenceLength > 10 ? 'medium' : 'low'
                };
            }
            
            identifyDomains(text) {
                const domains = [
                    { domain: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞—É–∫–∏', keywords: ['—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è', '—Å–∏—Å—Ç–µ–º–∞', '–∞–ª–≥–æ—Ä–∏—Ç–º', '–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ'] },
                    { domain: '–ì—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ –Ω–∞—É–∫–∏', keywords: ['–∫—É–ª—å—Ç—É—Ä–∞', '–æ–±—â–µ—Å—Ç–≤–æ', '–∏—Å—Ç–æ—Ä–∏—è', '—è–∑—ã–∫'] },
                    { domain: '–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞—É–∫–∏', keywords: ['–ø—Ä–∏—Ä–æ–¥–∞', '—Ñ–∏–∑–∏–∫–∞', '—Ö–∏–º–∏—è', '–±–∏–æ–ª–æ–≥–∏—è'] },
                    { domain: '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', keywords: ['–æ–±—É—á–µ–Ω–∏–µ', '—Å—Ç—É–¥–µ–Ω—Ç', '–∑–Ω–∞–Ω–∏–µ', '—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç'] }
                ];
                
                const textLower = text.toLowerCase();
                const identifiedDomains = [];
                
                domains.forEach(domain => {
                    const matches = domain.keywords.filter(keyword => 
                        textLower.includes(keyword)
                    ).length;
                    
                    if (matches > 0) {
                        identifiedDomains.push({
                            domain: domain.domain,
                            confidence: matches / domain.keywords.length,
                            matchedKeywords: domain.keywords.filter(keyword => 
                                textLower.includes(keyword)
                            )
                        });
                    }
                });
                
                return identifiedDomains.sort((a, b) => b.confidence - a.confidence);
            }
            
            generateSummary(text) {
                const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
                if (sentences.length <= 2) return text;
                
                // Simple extractive summarization
                const firstSentence = sentences[0].trim();
                const lastSentence = sentences[sentences.length - 1].trim();
                
                return `${firstSentence}. ${lastSentence}.`;
            }
            
            initializeEthicalLayer() {
                this.ethicalLayer = {
                    validateContent: (content) => {
                        const violations = [];
                        const enhancements = [];
                        
                        // Basic ethical checks
                        const contentLower = content.toLowerCase();
                        
                        // Check for positive elements
                        const positiveIndicators = [
                            '–ø–æ–º–æ—â—å', '–ø–æ–¥–¥–µ—Ä–∂–∫–∞', '–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', '—Ä–∞–∑–≤–∏—Ç–∏–µ', '—Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ',
                            '–º–∏—Ä', '–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å', '—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ', '—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å', '—ç–∫–æ–ª–æ–≥–∏—è'
                        ];
                        
                        positiveIndicators.forEach(indicator => {
                            if (contentLower.includes(indicator)) {
                                enhancements.push({
                                    type: 'positive_value',
                                    message: `–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å: ${indicator}`
                                });
                            }
                        });
                        
                        // Check for potential issues
                        const concernIndicators = [
                            '–≤—Ä–µ–¥', '–æ–ø–∞—Å–Ω–æ—Å—Ç—å', '–¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏—è', '–Ω–∞—Ä—É—à–µ–Ω–∏–µ'
                        ];
                        
                        concernIndicators.forEach(indicator => {
                            if (contentLower.includes(indicator)) {
                                violations.push({
                                    type: 'potential_concern',
                                    message: `–¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è: ${indicator}`
                                });
                            }
                        });
                        
                        return {
                            passed: violations.length === 0,
                            violations: violations,
                            enhancements: enhancements,
                            timestamp: new Date().toISOString()
                        };
                    },
                    
                    generateEthicalReport: () => {
                        return {
                            statistics: {
                                totalChecks: this.integrationStats.ethicalChecks || 0,
                                blockedContent: 0,
                                warningsIssued: 0,
                                enhancedContent: this.integrationStats.ethicalChecks || 0
                            },
                            filtersActive: {
                                childSafety: 5,
                                detoxification: 8
                            },
                            coreValues: {
                                '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–π': {
                                    priority: 1,
                                    description: '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ –¥–µ—Ç–µ–π'
                                },
                                '–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å': {
                                    priority: 2,
                                    description: '–°–æ–¥–µ–π—Å—Ç–≤–∏–µ –æ–±—É—á–µ–Ω–∏—é –∏ —Ä–∞–∑–≤–∏—Ç–∏—é'
                                },
                                '–ö—É–ª—å—Ç—É—Ä–Ω–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å': {
                                    priority: 3,
                                    description: '–£–≤–∞–∂–µ–Ω–∏–µ –∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è'
                                }
                            }
                        };
                    }
                };
            }
            
            initializeImportSystem() {
                this.importSystem = {
                    supportedSources: [
                        'mysql', 'postgresql', 'sqlite', 'mongodb',
                        'csv', 'json', 'xml', 'api'
                    ],
                    
                    import: (source, config) => {
                        this.showSaveStatus('saving');
                        
                        // Simulate import process
                        return new Promise((resolve) => {
                            setTimeout(() => {
                                const importResult = {
                                    source: source,
                                    timestamp: new Date().toISOString(),
                                    recordsImported: Math.floor(Math.random() * 1000) + 100,
                                    status: 'success',
                                    detoxified: true
                                };
                                
                                this.archiveManager.imports.push(importResult);
                                this.integrationStats.archiveOperations++;
                                this.saveAllData();
                                this.updateUI();
                                this.showSaveStatus('saved');
                                
                                resolve(importResult);
                            }, 2000);
                        });
                    }
                };
            }
            
            loadIntegrationStats() {
                if (this.browserCapabilities.localStorageSupport) {
                    try {
                        const saved = localStorage.getItem('terra_integration_stats');
                        return saved ? JSON.parse(saved) : {
                            totalProcessed: 0,
                            semanticAnalyses: 0,
                            ethicalChecks: 0,
                            archiveOperations: 0,
                            lastActivity: null
                        };
                    } catch (e) {
                        console.warn('Error loading integration stats:', e);
                    }
                }
                
                return {
                    totalProcessed: 0,
                    semanticAnalyses: 0,
                    ethicalChecks: 0,
                    archiveOperations: 0,
                    lastActivity: null
                };
            }
            
            saveIntegrationStats() {
                if (this.browserCapabilities.localStorageSupport) {
                    try {
                        this.integrationStats.lastActivity = new Date().toISOString();
                        localStorage.setItem('terra_integration_stats', 
                            JSON.stringify(this.integrationStats));
                    } catch (e) {
                        console.warn('Error saving integration stats:', e);
                    }
                }
            }
            
            saveAllData() {
                if (this.browserCapabilities.localStorageSupport) {
                    try {
                        localStorage.setItem('terra_archive_manager', 
                            JSON.stringify(this.archiveManager));
                        this.saveIntegrationStats();
                    } catch (e) {
                        console.warn('Error saving data:', e);
                    }
                }
            }
            
            loadAllData() {
                if (this.browserCapabilities.localStorageSupport) {
                    try {
                        const saved = localStorage.getItem('terra_archive_manager');
                        if (saved) {
                            this.archiveManager = { 
                                ...this.archiveManager, 
                                ...JSON.parse(saved) 
                            };
                        }
                    } catch (e) {
                        console.warn('Error loading data:', e);
                    }
                }
            }
            
            updateUI() {
                // Update statistics display
                document.getElementById('totalArchives').textContent = 
                    this.archiveManager.archives.length;
                document.getElementById('totalThesaurus').textContent = 
                    this.archiveManager.thesaurus.length;
                document.getElementById('totalEncyclopedia').textContent = 
                    this.archiveManager.encyclopedia.length;
                document.getElementById('totalImports').textContent = 
                    this.archiveManager.imports.length;
                document.getElementById('systemLevel').textContent = 
                    `L${this.currentLevel}`;
                document.getElementById('detoxStatus').textContent = '100%';
            }
            
            showSaveStatus(status) {
                const statusEl = document.getElementById('saveStatus');
                statusEl.classList.remove('hidden', 'saving', 'saved', 'error');
                statusEl.classList.add(status);
                
                switch (status) {
                    case 'saving':
                        statusEl.textContent = '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...';
                        break;
                    case 'saved':
                        statusEl.textContent = '–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ ‚úì';
                        setTimeout(() => {
                            statusEl.classList.add('hidden');
                        }, 2000);
                        break;
                    case 'error':
                        statusEl.textContent = '–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è!';
                        setTimeout(() => {
                            statusEl.classList.add('hidden');
                        }, 3000);
                        break;
                }
            }
            
            getSystemInfo() {
                return {
                    version: this.version,
                    author: this.author,
                    did: this.did,
                    currentLevel: this.currentLevel,
                    componentsLoaded: {
                        l0Kernel: !!this.l0Kernel,
                        offlineAnalyzer: !!this.offlineAnalyzer,
                        ethicalLayer: !!this.ethicalLayer,
                        archiveManager: !!this.archiveManager
                    },
                    statistics: this.integrationStats,
                    browserCapabilities: this.browserCapabilities
                };
            }
        }
        
        // ===== GLOBAL INSTANCE =====
        let terraSystem;
        
        // ===== TAB MANAGEMENT =====
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // Add active class to selected tab button
            event.target.classList.add('active');
        }
        
        // ===== ARCHIVE FUNCTIONS =====
        function handleFiles(files) {
            if (!terraSystem) return;
            
            terraSystem.showSaveStatus('saving');
            
            Array.from(files).forEach(file => {
                const archiveItem = {
                    id: Date.now() + Math.random(),
                    name: file.name,
                    size: file.size,
                    type: file.type,
                    timestamp: new Date().toISOString(),
                    processed: false
                };
                
                terraSystem.archiveManager.archives.push(archiveItem);
            });
            
            terraSystem.integrationStats.totalProcessed += files.length;
            terraSystem.saveAllData();
            terraSystem.updateUI();
            updateArchiveList();
            terraSystem.showSaveStatus('saved');
        }
        
        function updateArchiveList() {
            const archiveList = document.getElementById('archiveList');
            const archives = terraSystem?.archiveManager.archives || [];
            
            if (archives.length === 0) {
                archiveList.innerHTML = `
                    <div class="text-center py-12 text-gray-500">
                        <div class="text-6xl mb-6">üì¶</div>
                        <h3 class="text-xl font-semibold mb-2">–ê—Ä—Ö–∏–≤ –ø—É—Å—Ç</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞—Ä—Ö–∏–≤–∞</p>
                    </div>
                `;
                return;
            }
            
            archiveList.innerHTML = archives.map(archive => `
                <div class="archive-item">
                    <div class="flex justify-between items-center">
                        <div>
                            <h4 class="font-semibold">${archive.name}</h4>
                            <p class="text-sm text-gray-600">
                                ${(archive.size / 1024).toFixed(1)} KB ‚Ä¢ 
                                ${new Date(archive.timestamp).toLocaleString()}
                            </p>
                        </div>
                        <div class="flex space-x-2">
                            ${archive.processed ? 
                                '<span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">–û–±—Ä–∞–±–æ—Ç–∞–Ω</span>' :
                                '<span class="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded">–í –æ–±—Ä–∞–±–æ—Ç–∫–µ</span>'
                            }
                            <button onclick="removeArchiveItem('${archive.id}')" class="text-red-500 hover:text-red-700">
                                üóëÔ∏è
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function removeArchiveItem(id) {
            if (!terraSystem) return;
            
            terraSystem.archiveManager.archives = terraSystem.archiveManager.archives.filter(
                archive => archive.id !== id
            );
            
            terraSystem.saveAllData();
            terraSystem.updateUI();
            updateArchiveList();
        }
        
        // ===== DRAG AND DROP =====
        function dropHandler(event) {
            event.preventDefault();
            
            const dropZone = document.getElementById('dropZone');
            dropZone.classList.remove('dragover');
            
            const files = event.dataTransfer.files;
            handleFiles(files);
        }
        
        function dragOverHandler(event) {
            event.preventDefault();
            
            const dropZone = document.getElementById('dropZone');
            dropZone.classList.add('dragover');
        }
        
        function dragLeaveHandler(event) {
            event.preventDefault();
            
            const dropZone = document.getElementById('dropZone');
            dropZone.classList.remove('dragover');
        }
        
        // ===== DICTIONARY FUNCTIONS =====
        function toggleDictionaryMode() {
            if (!terraSystem) return;
            
            terraSystem.dictionaryMode = !terraSystem.dictionaryMode;
            const button = document.getElementById('dictionaryModeToggle');
            
            if (terraSystem.dictionaryMode) {
                button.textContent = 'üîç –†–µ–∂–∏–º —Å–ª–æ–≤–∞—Ä—è: –í–ö–õ';
                button.classList.remove('bg-green-500', 'hover:bg-green-600');
                button.classList.add('bg-blue-500', 'hover:bg-blue-600');
            } else {
                button.textContent = 'üîç –†–µ–∂–∏–º —Å–ª–æ–≤–∞—Ä—è: –í–´–ö–õ';
                button.classList.remove('bg-blue-500', 'hover:bg-blue-600');
                button.classList.add('bg-green-500', 'hover:bg-green-600');
            }
        }
        
        // ===== IMPORT FUNCTIONS =====
        function openImporter(type) {
            const modal = document.getElementById('importModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            
            const configs = {
                'mysql': {
                    title: 'üê¨ MySQL/MariaDB Configuration',
                    content: `
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Host:</label>
                                <input type="text" placeholder="localhost" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Database:</label>
                                <input type="text" placeholder="database_name" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Username:</label>
                                <input type="text" placeholder="username" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Password:</label>
                                <input type="password" placeholder="password" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <button onclick="startImport('mysql')" class="terra-button bg-blue-500 hover:bg-blue-600 focus:ring-blue-300 w-full">
                                üê¨ –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
                            </button>
                        </div>
                    `
                },
                'postgres': {
                    title: 'üêò PostgreSQL Configuration',
                    content: `
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Host:</label>
                                <input type="text" placeholder="localhost" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Database:</label>
                                <input type="text" placeholder="database_name" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Schema:</label>
                                <input type="text" placeholder="public" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <button onclick="startImport('postgres')" class="terra-button bg-blue-500 hover:bg-blue-600 focus:ring-blue-300 w-full">
                                üêò –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
                            </button>
                        </div>
                    `
                },
                'api': {
                    title: 'üåê Public APIs Configuration',
                    content: `
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">API Category:</label>
                                <select class="w-full p-3 border border-gray-300 rounded-lg">
                                    <option>üåç Climate & Environment</option>
                                    <option>üìö Education & Science</option>
                                    <option>‚öñÔ∏è Ethics & Governance</option>
                                    <option>üá∫üáø Uzbekistan Local APIs</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">API URL:</label>
                                <input type="url" placeholder="https://api.example.com/data" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">API Key (if required):</label>
                                <input type="text" placeholder="your_api_key" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <button onclick="startImport('api')" class="terra-button bg-pink-500 hover:bg-pink-600 focus:ring-pink-300 w-full">
                                üåê –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ API
                            </button>
                        </div>
                    `
                }
            };
            
            const config = configs[type] || {
                title: 'Import Configuration',
                content: '<p>Configuration for this importer is in development.</p>'
            };
            
            modalTitle.textContent = config.title;
            modalContent.innerHTML = config.content;
            modal.classList.remove('hidden');
        }
        
        function closeImportModal() {
            document.getElementById('importModal').classList.add('hidden');
        }
        
        function startImport(type) {
            if (!terraSystem) return;
            
            closeImportModal();
            
            terraSystem.importSystem.import(type, {}).then(result => {
                alert(`‚úÖ –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!\n\n–ò—Å—Ç–æ—á–Ω–∏–∫: ${result.source}\n–ó–∞–ø–∏—Å–µ–π: ${result.recordsImported}\n–°—Ç–∞—Ç—É—Å: ${result.status}`);
            });
        }
        
        function startQuickImport() {
            if (!terraSystem) return;
            
            terraSystem.importSystem.import('quick', {}).then(result => {
                alert(`‚úÖ –ë—ã—Å—Ç—Ä—ã–π –∏–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!\n\n–ó–∞–ø–∏—Å–µ–π: ${result.recordsImported}`);
            });
        }
        
        // ===== SYSTEM FUNCTIONS =====
        function showSystemInfo() {
            if (!terraSystem) return;
            
            const info = terraSystem.getSystemInfo();
            
            alert(`üß¨ Terra Archive Manager 2.0 Ultimate - System Info

üìä –û–°–ù–û–í–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:
–í–µ—Ä—Å–∏—è: ${info.version}
–ê–≤—Ç–æ—Ä: ${info.author}
–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: L${info.currentLevel}

üîß –ö–û–ú–ü–û–ù–ï–ù–¢–´:
L0 Kernel: ${info.componentsLoaded.l0Kernel ? '‚úÖ' : '‚ùå'}
Offline Analyzer: ${info.componentsLoaded.offlineAnalyzer ? '‚úÖ' : '‚ùå'}
Ethical Layer: ${info.componentsLoaded.ethicalLayer ? '‚úÖ' : '‚ùå'}
Archive Manager: ${info.componentsLoaded.archiveManager ? '‚úÖ' : '‚ùå'}

üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
–í—Å–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: ${info.statistics.totalProcessed}
–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö –∞–Ω–∞–ª–∏–∑–æ–≤: ${info.statistics.semanticAnalyses}
–≠—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫: ${info.statistics.ethicalChecks}
–ê—Ä—Ö–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π: ${info.statistics.archiveOperations}

üåê –ë–†–ê–£–ó–ï–†:
–°–µ–º–µ–π—Å—Ç–≤–æ: ${info.browserCapabilities.browserFamily}
ES6 –ø–æ–¥–¥–µ—Ä–∂–∫–∞: ${info.browserCapabilities.es6Support ? '‚úÖ' : '‚ùå'}
LocalStorage: ${info.browserCapabilities.localStorageSupport ? '‚úÖ' : '‚ùå'}
RAM: ~${info.browserCapabilities.estimatedRAM} MB`);
        }
        
        // ===== TERRA FUNCTIONS =====
        // These functions are loaded from the chat code and integrated
        
        window.exportUltimateArchive = function() {
            if (!terraSystem) return;
            
            terraSystem.showSaveStatus('saving');
            
            const exportData = {
                metadata: {
                    systemName: "Terra Archive Manager 2.0 Ultimate - Integrated",
                    version: terraSystem.version,
                    author: terraSystem.author,
                    did: terraSystem.did,
                    exportDate: new Date().toISOString(),
                    level: terraSystem.currentLevel,
                    capabilities: terraSystem.browserCapabilities
                },
                data: {
                    archives: terraSystem.archiveManager.archives,
                    thesaurus: terraSystem.archiveManager.thesaurus,
                    encyclopedia: terraSystem.archiveManager.encyclopedia,
                    imports: terraSystem.archiveManager.imports,
                    dictionary: terraSystem.uzbekGermanDictionary,
                    statistics: terraSystem.integrationStats
                },
                systemInfo: terraSystem.getSystemInfo()
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = 'terra_ultimate_integrated_export_' + new Date().toISOString().slice(0, 10) + '.json';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            URL.revokeObjectURL(url);
            terraSystem.showSaveStatus('saved');
            
            alert('‚úÖ Terra Ultimate Integrated —ç–∫—Å–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!\n\n' +
                  '–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ:\n' +
                  'üì¶ –ê—Ä—Ö–∏–≤—ã: ' + exportData.data.archives.length + '\n' +
                  'üìö –ó–∞–ø–∏—Å–∏ —Ç–µ–∑–∞—É—Ä—É—Å–∞: ' + exportData.data.thesaurus.length + '\n' +
                  'üî¨ –ó–∞–ø–∏—Å–∏ —ç–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏–∏: ' + exportData.data.encyclopedia.length + '\n' +
                  'üì• –ò–º–ø–æ—Ä—Ç—ã: ' + exportData.data.imports.length + '\n' +
                  'üåê –°–ª–æ–≤–∞—Ä–Ω—ã–µ –∑–∞–ø–∏—Å–∏: ' + exportData.data.dictionary.length + '\n' +
                  'üß¨ –£—Ä–æ–≤–µ–Ω—å —Å–∏—Å—Ç–µ–º—ã: L' + terraSystem.currentLevel);
        };
        
        window.runCompatibilityCheck = function() {
            if (!terraSystem) return;
            
            const info = terraSystem.getSystemInfo();
            const caps = terraSystem.browserCapabilities;
            
            const report = `üîç –û–¢–ß–ï–¢ –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–ò TERRA ULTIMATE INTEGRATED

üß¨ –°–ò–°–¢–ï–ú–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:
–í–µ—Ä—Å–∏—è: ${info.version}
–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: L${info.currentLevel}
–ê–≤—Ç–æ—Ä: ${info.author}

üåê –í–û–ó–ú–û–ñ–ù–û–°–¢–ò –ë–†–ê–£–ó–ï–†–ê:
ES3 –ø–æ–¥–¥–µ—Ä–∂–∫–∞: ${caps.es3Support ? '‚úÖ' : '‚ùå'}
ES5 –ø–æ–¥–¥–µ—Ä–∂–∫–∞: ${caps.es5Support ? '‚úÖ' : '‚ùå'}
ES6 –ø–æ–¥–¥–µ—Ä–∂–∫–∞: ${caps.es6Support ? '‚úÖ' : '‚ùå'}
LocalStorage: ${caps.localStorageSupport ? '‚úÖ' : '‚ùå'}
IndexedDB: ${caps.indexedDBSupport ? '‚úÖ' : '‚ùå'}
Web Workers: ${caps.webWorkersSupport ? '‚úÖ' : '‚ùå'}
–°–µ–º–µ–π—Å—Ç–≤–æ –±—Ä–∞—É–∑–µ—Ä–∞: ${caps.browserFamily}
–°—Ç–∞—Ä—ã–π –±—Ä–∞—É–∑–µ—Ä: ${caps.isOldBrowser ? '‚ö†Ô∏è –î–∞' : '‚úÖ –ù–µ—Ç'}

‚ö° –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨:
–û—Ü–µ–Ω–æ—á–Ω–∞—è RAM: ${caps.estimatedRAM} MB
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ${caps.processingPower}
–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞: ${caps.screenSize.width}x${caps.screenSize.height}

üîß –ö–û–ú–ü–û–ù–ï–ù–¢–´:
L0 Kernel: ${info.componentsLoaded.l0Kernel ? '‚úÖ' : '‚ùå'}
Offline Analyzer: ${info.componentsLoaded.offlineAnalyzer ? '‚úÖ' : '‚ùå'}
Ethical Layer: ${info.componentsLoaded.ethicalLayer ? '‚úÖ' : '‚ùå'}
Archive Manager: ${info.componentsLoaded.archiveManager ? '‚úÖ' : '‚ùå'}
Import System: ‚úÖ

üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
–í—Å–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: ${info.statistics.totalProcessed}
–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö –∞–Ω–∞–ª–∏–∑–æ–≤: ${info.statistics.semanticAnalyses}
–≠—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫: ${info.statistics.ethicalChecks}
–ê—Ä—Ö–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π: ${info.statistics.archiveOperations}

üß¨ –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê:
–ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
Database Importers: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
FMP Integration: ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω
–î–µ—Ç–æ–∫—Å–∏–∫–∞—Ü–∏—è: ‚úÖ 100% –∞–∫—Ç–∏–≤–Ω–∞`;
            
            alert(report);
        };
        
        // Placeholder functions for features from the chat code
        window.performSemanticAnalysis = function() {
            const text = prompt('üß† –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:');
            if (!text || !terraSystem) return;
            
            terraSystem.showSaveStatus('saving');
            
            let analysis;
            if (terraSystem.currentLevel >= 1 && terraSystem.offlineAnalyzer) {
                analysis = terraSystem.offlineAnalyzer.analyzeText(text);
            } else {
                analysis = terraSystem.l0Kernel.processRequest(text, terraSystem.did);
            }
            
            terraSystem.integrationStats.semanticAnalyses++;
            terraSystem.saveIntegrationStats();
            
            alert(`üß† –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
–°–ª–æ–≤: ${analysis.wordCount || text.split(' ').length}
–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: ${Math.round(analysis.processingTime || 0)} –º—Å
–£—Ä–æ–≤–µ–Ω—å: L${terraSystem.currentLevel}

üî§ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: ${(analysis.keywords || []).slice(0, 5).join(', ')}

üí° –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏: ${(analysis.concepts || []).map(c => c.concept).slice(0, 3).join(', ')}

‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!`);
            
            terraSystem.showSaveStatus('saved');
        };
        
        window.generateSemanticMap = function() {
            alert('üß† –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞\n\n–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...\n–ë—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏.');
        };
        
        window.buildIntegratedThesaurus = function() {
            alert('üìö –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∑–∞—É—Ä—É—Å–∞\n\n–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...\n–ë—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏.');
        };
        
        window.generateEncyclopedia = function() {
            alert('üåê –°–æ–∑–¥–∞–Ω–∏–µ —ç–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏–∏\n\n–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...\n–ë—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏.');
        };
        
        window.extractConcepts = function() {
            alert('üî¨ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π\n\n–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...\n–ë—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏.');
        };
        
        window.exportThesaurus = function() {
            if (!terraSystem) return;
            
            const thesaurusData = {
                metadata: {
                    systemName: "Terra Archive Manager 2.0 Ultimate - Integrated Thesaurus",
                    version: terraSystem.version,
                    author: terraSystem.author,
                    did: terraSystem.did,
                    exportDate: new Date().toISOString(),
                    type: "thesaurus"
                },
                data: terraSystem.archiveManager.thesaurus
            };
            
            const dataStr = JSON.stringify(thesaurusData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = 'terra_integrated_thesaurus_' + new Date().toISOString().slice(0, 10) + '.json';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            URL.revokeObjectURL(url);
            
            alert('‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∑–∞—É—Ä—É—Å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω!\n\n' +
                  '–ó–∞–ø–∏—Å–µ–π: ' + terraSystem.archiveManager.thesaurus.length);
        };
        
        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Terra system
            terraSystem = new TerraSemanticIntegration();
            
            // Load saved data
            terraSystem.loadAllData();
            terraSystem.updateUI();
            updateArchiveList();
            
            console.log('üß¨ Terra Archive Manager 2.0 Ultimate - Integrated System initialized');
            console.log('Level:', terraSystem.currentLevel);
            console.log('Components loaded:', terraSystem.getSystemInfo().componentsLoaded);
            console.log('Browser capabilities:', terraSystem.browserCapabilities);
            
            // Auto-save every 3 minutes
            setInterval(() => {
                if (terraSystem) {
                    terraSystem.saveAllData();
                }
            }, 180000);
        });
        
    </script>
</body>
</html>